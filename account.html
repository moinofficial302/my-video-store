<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Account | AKANS</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- ğŸ”— MAIN CSS (IMPORTANT) -->
  <link rel="stylesheet" href="css/login.css">

  <style>
/* ğŸ”¥ FORCE FULL WIDTH â€“ ACCOUNT PAGE FIX */
html, body{
  width:100% !important;
  max-width:100% !important;
  margin:0 !important;
  padding:0 !important;
  display:block !important;
}

.account-wrap{
  width:100% !important;
  max-width:100% !important;
  margin:0 !important;
  padding:14px !important;
}

.profile-card,
.wallet-card,
.menu-list{
  width:100% !important;
  max-width:100% !important;
}
  </style>
  
  <!-- ğŸ”¥ FIREBASE + AUTH -->
  <script type="module" src="js/firebase-init.js"></script>
  <script type="module" src="js/auth.js"></script>


  
</head>

<body>

<!-- âŒ KOI page-wrap / container NAHI -->
<!-- âœ… DIRECT account-wrap -->

<div class="account-wrap">

  <!-- =====================
       PROFILE SECTION
  ====================== -->
  
<div class="profile-card profile-flex">
  <div class="profile-text">
    <h3 id="userName">AKANS User</h3>
    <p id="userEmail">user@gmail.com</p>
  </div>

  <img src="assets/logo.png" class="profile-logo">
</div>

  <!-- =====================
       WALLET / COINS
  ====================== -->
  <div class="wallet-card">
    <span>ğŸ’° Coins</span>
    <h2 id="coinBalance">0</h2>
  </div>

  <div class="wallet-card">
  <span>ğŸ¤ Referral Wallet</span>
  <h2 id="referralBalance">0</h2>
  </div>
  
  <!-- =====================
       MENU OPTIONS
  ====================== -->
  <div class="menu-list">

    <div class="menu-item" onclick="location.href='add-money.html'">
      â• Add Money
    </div>

    
    <div class="menu-item" onclick="location.href='my-orders.html'">
  ğŸ“¦ My Orders
    </div>

    
<div class="menu-item" onclick="location.href='coupon.html'">
  ğŸŸ Coupon Code
</div>
    
    
    <div class="menu-item" onclick="location.href='refer.html'">
  ğŸ¤ Refer & Earn
    </div>
    
    <div class="menu-item" onclick="location.href='super-refer.html'">
  ğŸ’° Super Refer & Earn
    </div>
    
    <div class="menu-item" onclick="location.href='withdraw.html'">
  ğŸ’¸ Withdraw Amount
    </div>
    
    <div class="menu-item">ğŸ‘¥ Community</div>
    
    <div class="menu-item">â¬‡ Download App</div>
    
    <div class="menu-item">â­ Rating</div>
    
    <div class="menu-item">â„¹ About Information</div>

    <div class="menu-item logout" onclick="logoutUser()">
      ğŸšª Logout
    </div>

  </div>

</div>

<script type="module">
  import { auth, db } from "./js/firebase-init.js";
  import { onAuthStateChanged } from
    "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
  import { doc, getDoc } from
    "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

  onAuthStateChanged(auth, async (user) => {
    if (!user) {
      window.location.href = "login.html";
      return;
    }

    // âœ… Email
    document.getElementById("userEmail").innerText = user.email;

    // ğŸ” Username priority
    const userRef = doc(db, "users", user.uid);
    const snap = await getDoc(userRef);

    if (snap.exists() && snap.data().username) {
      document.getElementById("userName").innerText =
        snap.data().username;
      
if (snap.data().referralBalance !== undefined) {
  document.getElementById("referralBalance").innerText =
    snap.data().referralBalance;
}

      
    } else if (user.displayName) {
      document.getElementById("userName").innerText =
        user.displayName;
    } else {
      document.getElementById("userName").innerText =
        "AKANS User";
    }
  });
</script>















<!-- ğŸ”» BOTTOM NAVIGATION -->
<div class="bottom-nav">

  <button class="nav-item" data-page="index.html"
          onclick="location.href='index.html'">
    Bundle
  </button>

  <button class="nav-item" data-page="ai-editing.html"
          onclick="location.href='ai-editing.html'">
    AI & Editing
  </button>

  <button class="nav-item" data-page="social.html"
          onclick="location.href='social.html'">
    Social
  </button>

  <button class="nav-item active" data-page="account.html"
          onclick="location.href='account.html'">
    Account
  </button>

</div>



  <script>
document.addEventListener("DOMContentLoaded", () => {

  const currentPage =
    window.location.pathname.split("/").pop() || "index.html";

  document.querySelectorAll(".nav-item").forEach(btn => {
    if (btn.dataset.page === currentPage) {
      btn.classList.add("active");
    }
  });

});
  </script>


  <script>
let lastScroll = 0;
const nav = document.querySelector(".bottom-nav");

if (nav) {
  window.addEventListener("scroll", () => {
    const currentScroll = window.pageYOffset;

    if (currentScroll > lastScroll && currentScroll > 80) {
      nav.classList.add("hide");
    } else {
      nav.classList.remove("hide");
    }

    lastScroll = currentScroll;
  });
}
  </script>


<link rel="stylesheet" href="css/nav.css">
  
</body>
</html>
